!function(e){var t;e.fn.printThis=function(n){t=e.extend({},e.fn.printThis.defaults,n);var i=this instanceof jQuery?this:e(this),a="printThis-"+(new Date).getTime();if(window.location.hostname!==document.domain&&navigator.userAgent.match(/msie/i)){var o='javascript:document.write("<head><script>document.domain=\\"'+document.domain+'\\";<\/script></head><body></body>")',r=document.createElement("iframe");r.name="printIframe",r.id=a,r.className="MSIE",document.body.appendChild(r),r.src=o}else{var d=e("<iframe id='"+a+"' name='printIframe' />");d.appendTo("body")}var c=e("#"+a);t.debug||c.css({position:"absolute",width:"0px",height:"0px",left:"-600px",top:"-600px"}),setTimeout(function(){function n(e,t){var n,i;n=e.get(0),n=n.contentWindow||n.contentDocument||n,i=n.document||n.contentDocument||n,i.open(),i.write(t),i.close()}t.doctypeString&&n(c,t.doctypeString);var a=c.contents(),o=a.find("head"),r=a.find("body"),d=window.location.pathname,s=d.substring(0,d.lastIndexOf("/"));if(o.append('<base href="'+document.location.protocol+"//"+document.location.host+s+'">'),t.importCSS&&e("link[rel=stylesheet]").each(function(){var t=e(this).attr("href");if(t){var n=e(this).attr("media")||"all";o.append("<link type='text/css' rel='stylesheet' href='/omtg-designer/"+t+"' media='"+n+"'>")}}),t.importStyle&&e("style").each(function(){e(this).clone().appendTo(o)}),t.pageTitle&&o.append("<title>"+t.pageTitle+"</title>"),t.loadCSS&&(e.isArray(t.loadCSS)?jQuery.each(t.loadCSS,function(){o.append("<link type='text/css' rel='stylesheet' href='/omtg-designer/"+this+"'>")}):o.append("<link type='text/css' rel='stylesheet' href='/omtg-designer/"+t.loadCSS+"'>")),t.header&&r.append(t.header),t.printContainer?r.append(i.outer()):i.each(function(){r.append(e(this).html())}),t.formValues){var l=i.find("input");l.length&&l.each(function(){var t=e(this),n=e(this).attr("name"),i=t.is(":checkbox")||t.is(":radio"),o=a.find('input[name="'+n+'"]'),r=t.val();i?t.is(":checked")&&(t.is(":checkbox")?o.attr("checked","checked"):t.is(":radio")&&a.find('input[name="'+n+'"][value='+r+"]").attr("checked","checked")):o.val(r)});var p=i.find("select");p.length&&p.each(function(){var t=e(this),n=e(this).attr("name"),i=t.val();a.find('select[name="'+n+'"]').val(i)});var h=i.find("textarea");h.length&&h.each(function(){var t=e(this),n=e(this).attr("name"),i=t.val();a.find('textarea[name="'+n+'"]').val(i)})}t.removeInline&&(e.isFunction(e.removeAttr)?a.find("body *").removeAttr("style"):a.find("body *").attr("style",""));var m=c.contents().find("img");m.each(function(){var t=e(this).attr("src");e(this).attr("src","/omtg-designer/"+t)}),setTimeout(function(){c.hasClass("MSIE")?(window.frames.printIframe.focus(),o.append("<script>  window.print(); <\/script>")):document.queryCommandSupported("print")?c[0].contentWindow.document.execCommand("print",!1,null):(c[0].contentWindow.focus(),c[0].contentWindow.print()),t.debug||setTimeout(function(){c.remove()},1e3)},t.printDelay)},333)},e.fn.printThis.defaults={debug:!1,importCSS:!0,importStyle:!1,printContainer:!0,loadCSS:"",pageTitle:"",removeInline:!1,printDelay:333,header:null,formValues:!0,doctypeString:"<!DOCTYPE html>"},jQuery.fn.outer=function(){return e(e("<div></div>").html(this.clone())).html()}}(jQuery);